<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è§£è¬é¡Œå°ç¶²é </title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 flex items-center justify-center h-screen">

    <div id="ruleSection" class="bg-white p-8 rounded-lg shadow-lg w-full max-w-md mx-auto">
        <div class="text-center">
            <h1 id="title" class="text-2xl font-bold mb-4">å¯†ç¢¼çŒœçŒœçŒœ</h1>
            <p id="content" class="mb-4">çµ¦ä»–å€‘æ¡†æ¡† å…±æœ‰å››å€‹å­—æ¯</p>
            <div class="video-container mb-4">
                <video id="floating-video" autoplay loop>
                    <source src="movie/æœ€çµ‚ç‰ˆ.mp4" type="video/mp4">


                    æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æŒè¦–é »æ¨™ç±¤ã€‚
                </video>
            </div>
            <div id="ui-btn" class="flex justify-between mt-4">
                <div>

                    <button id="prevButton" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-700"
                        onclick="prevPage()">ä¸Šä¸€é </button>
                </div>
                <div>

                    <button id="nextButton" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-700"
                        onclick="nextPage()">ä¸‹ä¸€é </button>
                </div>
            </div>
            <div class="w-full flex justify-center">

                <button id="startBtn" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-700">é–‹å§‹</button>
                <button id="giveBtn" class="hidden bg-blue-500 text-white px-4 py-2 rounded disabled:opacity-50" disabled>é ˜å–çå‹µ</button>

            </div>
        </div>
    </div>


    <script>
        const floatingVideo = document.getElementById('floating-video');
        const content = [
            "å˜»å˜»å˜» é©šå–œæ²’æœ‰é‚£éº¼å¥½å¾—åˆ°çš„<br>ä½ éœ€è¦ä»˜å‡ºä¸€é»åŠªåŠ›æ‰èƒ½å¾—åˆ°ï¼",
            "æ¥ä¸‹ä¾†ï¼Œä½ éœ€è¦é€éæç¤ºä¾†çŒœå‡ºå¯†ç¢¼ï¼Œè¼¸å…¥æ­£ç¢ºçš„å¯†ç¢¼æ‰èƒ½ç²å¾—é©šå–œï¼",
            "æ”¾å¿ƒï¼Œå¯†ç¢¼å¾ˆç°¡å–®çš„ï¼å¦‚æœçœŸçš„çŒœä¸å‡ºä¾†ï¼Œå¯ä»¥é»æ“Šæç¤ºæŒ‰éˆ•ä¾†ç²å¾—æç¤ºï¼",
            "ä»¥é˜²ä½ åœ¨çŒœå¯†ç¢¼çš„æ™‚å€™ç„¡èŠï¼Œæˆ‘åœ¨æ—é‚Šå½ˆé‹¼ç´çµ¦ä½ è½ï¼è¨˜å¾—æ‰“é–‹è²éŸ³å“¦ï¼",
            "æˆ‘éƒ½é‚„æ²’å½ˆå®Œé‹¼ç´ä½ å°±çŒœå®Œæƒ¹... å¤±ç®—.. <br>ä½ é‚„æ˜¯çœ‹æˆ‘å½ˆå®Œå†é ˜çå‹µå§ğŸ˜˜",
            "å°Šç£å‡ç£ é‚£éº¼é›£çŒœå–” å¥½å§... å¯ä»¥æŒ‰ä¸‹é¢é ˜å–çå‹µäº†ï¼"
        ];
        const title = [
            "å¯†ç¢¼çŒœçŒœçŒœ",
            "çŒœå‡ºå¯†ç¢¼",
            "æ”¾å¿ƒç°¡å–®ã„‰",
            "æœ‰æ²’æœ‰è½åˆ°",
            "æŒ– ä½ çŒœçš„å¥½å¿«ï¼",
            "å—šå—šå—š å¤ªé›£äº†å—"
        ];

        let currentPage = 0;

        function updateContent() {

            document.getElementById('content').innerHTML = content[currentPage];
            document.getElementById('title').innerHTML = title[currentPage];
            if (currentPage === 0) {
                document.getElementById('prevButton').style.display = "none";
            } else {
                document.getElementById('prevButton').style.display = "block";
            }
            if (currentPage === content.length - 3) {
                document.getElementById('nextButton').style.display = "none";
                startBtn.style.display = "block";
            } else {
                document.getElementById('nextButton').style.display = "block";
                startBtn.style.display = "none";
            }

            if (currentPage === 3) {
                floatingVideo.style.display = "block";
            } else {
                floatingVideo.style.display = "none";
            }

        }

        function prevPage() {
            if (currentPage > 0) {
                currentPage--;
                updateContent();
            }
        }
        var isplay = false;

        function nextPage() {
            if(!isplay){
                floatingVideo.play();
                isplay = true;
                const display = document.querySelector('#timer');
                const duration = 112; // 1 minute 52 seconds in seconds
                startCountdown(duration, display);
            }

            if (currentPage < content.length - 3) {
                currentPage++;
                updateContent();
            }
        }

        // Initial content update
        updateContent();

        function startCountdown(duration) {
            let timer = duration, minutes, seconds;
            const interval = setInterval(() => {
                minutes = parseInt(timer / 60, 10);
                seconds = parseInt(timer % 60, 10);

                minutes = minutes < 10 ? "0" + minutes : minutes;
                seconds = seconds < 10 ? "0" + seconds : seconds;


                if (--timer < 0) {
                    clearInterval(interval);
                    isEnd = true;
                    giveBtn.disabled = false;
                }
            }, 1000);
        }

        const giveBtn = document.getElementById('giveBtn');
        giveBtn.addEventListener('click', () => {
            location.href = "https://www.youtube.com/watch?v=dQw4w9WgXcQ";
        });
    </script>

    <div id="gameSection" class="bg-white p-8 rounded-lg shadow-lg w-full max-w-md">
        <div id="hint-container" class="text-center">
            <img id="hint-image" src="image/love/hint1.jpg" alt="Hint 1" class="mx-auto mb-4">
            <p id="hint-text" class="mb-4">çµ¦ä»–å€‘æ¡†æ¡† å…±æœ‰å››å€‹å­—æ¯</p>
        </div>
        <div class="flex justify-between mb-4">
            <button id="prev-btn" class="bg-blue-500 text-white px-4 py-2 rounded-lg disabled:opacity-50"
                disabled>ä¸Šä¸€é </button>
            <button id="next-btn" class="bg-yellow-500 text-white px-4 py-2 rounded-lg disabled:opacity-50">æç¤º</button>
        </div>
        <div class="mb-4 flex justify-between mb-4">
            <input id="answer-input" type="text" placeholder="ä½ ã„‰å¯†ç¢¼" class="flex-1 mr-4 px-4 py-2 border rounded-lg">
            <button id="submit-btn" class=" bg-green-500 text-white px-4 py-2 rounded-lg disabled:opacity-50"
                disabled>ç¢ºå®š</button>
        </div>
        <div id="message" class="text-center text-red-500"></div>

    </div>


    <script>
        const gameSec = document.getElementById("gameSection");
        gameSec.style.display = "none";

        const ruleSec = document.getElementById("ruleSection");
        const startBtn = document.getElementById("startBtn");
        startBtn.addEventListener("click", () => {
            ruleSec.style.display = "none";
            gameSec.style.display = "block";
        });


    </script>

    <script>
        const hints = [
            { src: 'image/love/hint1.jpg', text: 'çµ¦ä»–å€‘æ¡†æ¡† å…±æœ‰å››å€‹å­—æ¯' },
            { src: 'image/love/hint2.jpg', text: 'å“å‘€ é€™æ¨£ç¸½å¯ä»¥çœ‹å‡ºä¾†äº†å§' },
            { src: 'image/love/hint2.jpg', text: 'ğŸ¤«è‹±æ–‡å­—æ¯å¤§å¯«ã„‰' },
            { src: 'image/love/hint2.jpg', text: 'å—šå—š éƒ½çµ¦ä½ ç•«å‡ºä¾†äº† é›£é“æˆ‘å€‘ä¹‹é–“æ²’æœ‰ å—' },
            { src: 'image/love/hint2.jpg', text: 'çµ¦ä»–ä¸€å€‹å¤§æ¡†æ¡†è©¦è©¦' },
            { src: 'image/love/hint3.jpg', text: 'é€™æ¨£ç¸½è©²çœ‹å‡ºä¾†äº†å§ğŸ˜¨' }
        ];

        let currentHintIndex = 0;

        const hintImage = document.getElementById('hint-image');
        const hintText = document.getElementById('hint-text');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const answerInput = document.getElementById('answer-input');
        const message = document.getElementById('message');
        const submitBtn = document.getElementById('submit-btn');

        nextBtn.addEventListener('click', () => {
            if (confirm('ä½ ç¢ºå®šè¦é ˜å–ä¸‹ä¸€å€‹æç¤ºå—ï¼Ÿ')) {
                currentHintIndex++;
                updateHint();
            }
        });

        prevBtn.addEventListener('click', () => {
            currentHintIndex--;
            updateHint();
        });

        answerInput.addEventListener('input', () => {
            if (answerInput.value == "") {
                submitBtn.disabled = true;
            } else {
                submitBtn.disabled = false;
            }
        });

        submitBtn.addEventListener('click', () => {
            if (answerInput.value.toUpperCase() === 'LOVE') {
                bingo();
            } else {
                message.textContent = 'ç­”æ¡ˆéŒ¯èª¤ï¼Œå†è©¦è©¦çœ‹å§ï¼';
            }
        });

        function updateHint() {
            hintImage.src = hints[currentHintIndex].src;
            hintText.textContent = hints[currentHintIndex].text;
            prevBtn.disabled = currentHintIndex === 0;
            nextBtn.disabled = currentHintIndex === hints.length - 1;
        }

        var isEnd = false;

        function bingo() {
            alert('æ­å–œä½ ç­”å°äº†ï¼ğŸ‰');

            floatingVideo.controls = true;
            document.getElementById('ui-btn').style.display = "none";
            giveBtn.classList.remove('hidden')

            if(!isEnd){

                currentPage = 4;
                updateContent();
                gameSec.style.display = "none";
                ruleSec.style.display = "block";
                floatingVideo.style.display = "block";
            }else{
                currentPage = 5;
                updateContent();
                gameSec.style.display = "none";
                ruleSec.style.display = "block";
                floatingVideo.style.display = "block";
            }

        }

        floatingVideo.addEventListener('ended', () => {
            alert('å½±ç‰‡æ’­æ”¾å®Œç•¢ï¼');
            isEnd = true;
            // ä½ å¯ä»¥åœ¨é€™è£¡æ·»åŠ å…¶ä»–ä½ å¸Œæœ›åœ¨å½±ç‰‡æ’­æ”¾å®Œç•¢å¾ŒåŸ·è¡Œçš„æ“ä½œ
        });
    </script>
</body>

</html>